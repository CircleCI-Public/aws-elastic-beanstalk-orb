description: |
  Install and set up the AWS Elastic Beanstalk CLI with a custom profile.

usage:
  version: 2.1
  orbs:
    eb: circleci/aws-elastic-beanstalk@2.1.0
  jobs:
    eb-demo:
      docker:
        - image: cimg/base:stable
      steps:
        - checkout
        - eb/setup:
            profile-name: my_named_profile
        - run:
            name: You may now use the EB CLI within this job
            command: |
              eb create my-environment
              eb deploy my-environment
              eb status
  workflows:
    elastic-beanstalk-workflow:
      jobs:
        - eb-demo
